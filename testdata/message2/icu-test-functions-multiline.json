{
  "scenario": "Function tests",
  "description": "Tests for ICU-specific formatting behavior that require multi-line messages.",
  "defaultTestProperties": {
    "locale": "en-US"
  },
  "tests": [
    {
      "comment": "Horibly long, but I really wanted to test multiple declarations with overrides, and you can't join strings in JSON",
      "src": [
        ".input {$exp :datetime timeStyle=short}\n",
        ".input {$user :string}\n",
        ".local $longExp = {$exp :datetime dateStyle=long}\n",
        ".local $zooExp = {$exp :datetime dateStyle=short timeStyle=$tsOver}\n",
        "{{Hello John, you want '{$exp}', '{$longExp}', or '{$zooExp}' or even '{$exp :datetime dateStyle=full}'?}}"
      ],
      "exp": "Hello John, you want '9:43 PM', 'August 3, 2024 at 9:43 PM', or '8/3/24, 9:43:57 PM Pacific Daylight Time' or even 'Saturday, August 3, 2024 at 9:43 PM'?",
      "params": [{"name": "exp", "value": { "date": 1722746637000 }},
                 {"name": "user", "value": "John"},
                 {"name": "tsOver", "value": "full" }],
      "ignoreCpp": "ICU-22754 ICU4C doesn't implement this kind of function composition yet. See https://github.com/unicode-org/message-format-wg/issues/515"
    },
    {
      "src": [
        ".input {$exp :datetime year=numeric month=numeric day=|2-digit|}\n",
        ".local $longExp = {$exp :datetime month=long weekday=long}\n",
        "{{Expires on '{$exp}' ('{$longExp}').}}"
      ],
      "exp": "Expires on '8/03/2024' ('Saturday, August 03, 2024').",
      "params": [{ "name": "exp", "value": { "date": 1722746637000 } }]
    }
  ]
}
